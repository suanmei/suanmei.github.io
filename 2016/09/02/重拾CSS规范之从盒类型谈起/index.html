<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>重拾CSS规范之从盒类型谈起 | 拾邑</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="今天要写的不是CSS标准盒模型和IE盒模型，那个烂大街了。今天要深入探讨的是CSS去控制页面布局背后的那一套规则，页面就是由很多个各式各样的盒组成的，那我们就聊这个。这个是对后面的BFC以及定位模式的一个铺垫，基础很重要！！！">
<meta property="og:type" content="article">
<meta property="og:title" content="重拾CSS规范之从盒类型谈起">
<meta property="og:url" content="http://yoursite.com/2016/09/02/重拾CSS规范之从盒类型谈起/index.html">
<meta property="og:site_name" content="拾邑">
<meta property="og:description" content="今天要写的不是CSS标准盒模型和IE盒模型，那个烂大街了。今天要深入探讨的是CSS去控制页面布局背后的那一套规则，页面就是由很多个各式各样的盒组成的，那我们就聊这个。这个是对后面的BFC以及定位模式的一个铺垫，基础很重要！！！">
<meta property="og:image" content="http://o7nps5lzq.bkt.clouddn.com/css/inlineBox_padding_margin.png">
<meta property="og:image" content="http://o7nps5lzq.bkt.clouddn.com/css/block_error.png">
<meta property="og:image" content="http://o7nps5lzq.bkt.clouddn.com/css/block_correct.png">
<meta property="og:image" content="http://o7nps5lzq.bkt.clouddn.com/css/inline_line_box.png">
<meta property="og:updated_time" content="2016-09-06T20:01:00.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="重拾CSS规范之从盒类型谈起">
<meta name="twitter:description" content="今天要写的不是CSS标准盒模型和IE盒模型，那个烂大街了。今天要深入探讨的是CSS去控制页面布局背后的那一套规则，页面就是由很多个各式各样的盒组成的，那我们就聊这个。这个是对后面的BFC以及定位模式的一个铺垫，基础很重要！！！">
<meta name="twitter:image" content="http://o7nps5lzq.bkt.clouddn.com/css/inlineBox_padding_margin.png">
  
    <link rel="alternate" href="/atom.xml" title="拾邑" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">拾邑</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">读一书，增一智</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-重拾CSS规范之从盒类型谈起" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/02/重拾CSS规范之从盒类型谈起/" class="article-date">
  <time datetime="2016-09-02T13:23:07.000Z" itemprop="datePublished">2016-09-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CSS/">CSS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      重拾CSS规范之从盒类型谈起
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天要写的不是CSS标准盒模型和IE盒模型，那个烂大街了。今天要深入探讨的是CSS去控制页面布局背后的那一套规则，页面就是由很多个各式各样的盒组成的，那我们就聊这个。这个是对后面的BFC以及定位模式的一个铺垫，基础很重要！！！</p>
<a id="more"></a>
<h2 id="术语普及"><a href="#术语普及" class="headerlink" title="术语普及"></a>术语普及</h2><blockquote>
<p><strong>盒：</strong> 每个元素都会生成一个盒，用来容纳后代（生成的盒）和自己生成的内容(比如说一段文字)。所以我们可以把一个页面看做是由一个个的盒子堆砌而成的，只是这些盒子也分种类，就像这个社会在视觉上由男人和女人构成。<br><strong>块级元素：</strong> <code>display</code> 为 <code>block/table/list-item</code> 的元素。<br><strong>块级盒：</strong> 块级元素生成的盒<br><strong>块容器盒：</strong> 块级盒同时也是块容器盒，除了表格盒与可替换元素。顾名思义，块容器盒就是它要容纳后代和它自身的内容。这里面我发现了一个很有趣的事儿，可替换元素，所以它们都是通过 <code>value/src</code> 之类的属性来控制内容显示，可能正是因为它们 <em>无法添加后代元素</em> 的特性所以才不算是块容器盒的。<br><strong>内联级元素：</strong> <code>display</code> 为 <code>inline/inline-block/inline-table</code> 的元素。<br><strong>内联级盒：</strong> 内联级元素生成的盒。但是只有 <code>inline</code> 元素生成的盒才叫做内联盒，它区别于 <code>inline-block</code> 元素的内联级块盒。<br><strong>行盒：</strong> 内联格式化上下文中，包含来自同一行的盒的矩形区域叫做行盒<br><strong>可替换元素：</strong> 浏览器根据元素的标签和它的属性来决定元素的具体显示内容。比如 <code>&lt;img&gt; &lt;input&gt; &lt;textarea&gt; &lt;select&gt; &lt;object&gt;</code>。</p>
</blockquote>
<h2 id="内联元素的一个小特性"><a href="#内联元素的一个小特性" class="headerlink" title="内联元素的一个小特性"></a>内联元素的一个小特性</h2><p>这里单独把内联元素给拿出来了，内联元素必须要区别于内联级元素，内联元素只是指 <code>diaplay</code> 为 <code>inline</code> 的元素。</p>
<p><code>margin-top,margin-bottom</code> 对内联元素无效。<br><code>padding-top,padding-bottom</code> 对内联元素有效，但它们不能对布局产生任何影响。</p>
<p>上面第一句话比较容易理解，第二句话可能需要通过例子辅助理解。</p>
<p><img src="http://o7nps5lzq.bkt.clouddn.com/css/inlineBox_padding_margin.png" alt="Image losted" title="padding-top,padding-bottom对block box 和 inline box的影响"></p>
<p>上图中 <code>padding-top</code> 和 <code>padding-bottom</code> 会影响到块级元素 <code>content</code> 区域位置，会让块级元素的空间真正意义上的变大，进而影响其他元素的位置。但是再看内联元素这边，我们可以看出来 <code>padding</code> 确实存在，但是它没有起到任何影响，没有能够让内联元素占据的空间变大，布局上没有对元素自身起到任何影响，更别提对其他元素产生影响了。可能唯一的作用就是设置 <code>background</code> 的时候， <code>padding</code> 能起到作用。</p>
<h2 id="匿名盒"><a href="#匿名盒" class="headerlink" title="匿名盒"></a>匿名盒</h2><p>CSS为了方便布局，它规定：一个块容器盒要么只包含块级盒，要么只包含内联级盒。</p>
<h3 id="匿名块盒"><a href="#匿名块盒" class="headerlink" title="匿名块盒"></a>匿名块盒</h3><p>我们来看看CSS会如何对待这段代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>我是span内的文字<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是p内的文字<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    我是没有任何标签包含的文字</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>大家好，我是 <code>div</code> ，我是一个块容器盒，我发现我的儿子 <code>p</code> 生成了块级盒，那么我其他的儿子也必须都是块级盒。sorry， <code>span</code> 龟儿子，麻烦你变个身，变成块级盒。卧槽，’我是没有任何标签包含的文字’ 这段文本不太好处理啊，他又不是我儿子，不好直接命令他。</p>
<p>幸好老子灵机一动，要不我干脆认他做个干儿子。</p>
<p>div：“文本小孩儿，你愿意做我的干儿子吗？”</p>
<p>文本：“我愿意，爸爸！”</p>
<p>div：“真是个好孩子。但是呢，今天这情况，你们都必须要有一个块级盒，你其他的哥哥们自己会生产，看你小子啥也不会，爸爸就送你一个吧，不过这个盒子无名无分，我们就叫它匿名块盒”</p>
<p>准备工作都做好了，再来看看他们家的家谱吧！</p>
<p><img src="http://o7nps5lzq.bkt.clouddn.com/css/block_error.png" alt="Image losted" title="block-box error"></p>
<p>我们可以看到，上面 <code>span</code> 也变成块级盒了，那我们是不是像对待块级元素一样给它设置宽高呢？当然不能！！！所以说，<strong>上面的图片是错误的！！！</strong></p>
<p>其实呢， <code>span</code> 这小子作弊了，它明明只是猴子派来的逗逼，当然不能像猴子一样变身，那层块级盒（block box）是它老爸发放的作战物资——匿名块盒。所以呢，真实的情况是：它自己本身只能产生内联盒，然后在它外面还会包裹着一个匿名块盒。</p>
<p>那我们来看一看正确的家谱：</p>
<p><img src="http://o7nps5lzq.bkt.clouddn.com/css/block_correct.png" alt="Image losted" title="block-box correct"></p>
<p>正是因为匿名盒的存在， <code>span</code> 和那段小文本也能够像块级元素一样，单独占据一整行。</p>
<p>那再有一个问题，几个内联元素在一起，它们明明是同一行排列啊，并没有像块级元素一样换行显示。其实呢，多个内联元素在一起，匿名块盒会把相邻的内联盒“打包”，一起包裹起来。</p>
<h3 id="匿名内联盒"><a href="#匿名内联盒" class="headerlink" title="匿名内联盒"></a>匿名内联盒</h3><p>任何被直接包含在一个<strong>块容器元素中（不在一个内联元素里面）</strong>的文本，必须视为一个匿名内联元素。</p>
<p>再来看一段代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>我是span中的文字我是span中的文字我是span中的文字<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    我是没有任何标签包含的文字</div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<p>大家好，我是 <code>p</code> 元素，我今天看了看我的儿子们，不容易啊，一个块级盒也木有昂，按照CSS当年定下的规矩，这样的情况下，本王必须建立<strong>内联格式化上下文（IFC）</strong>来安置这群傻孩子。</p>
<p><code>span</code> 好说啊，自己本身就生成了内联级盒，麻烦的就是这个没有任何标签包围的文本了。咱们还用老方法行不行(⊙v⊙)</p>
<p>p：“文本小孩儿，你愿意做我的干儿子吗？”</p>
<p>文本：“我愿意，爸爸！”</p>
<p>p：“真是个好孩子。但是呢，今天这情况，你们都必须要有一个内联级盒，你其他的哥哥们自己会生产，看你小子啥也不会，爸爸就送你一个吧，不过这个盒子无名无分，我们就叫它匿名内联盒”</p>
<p>闲话不多说，看家谱：</p>
<p><img src="http://o7nps5lzq.bkt.clouddn.com/css/inline_line_box.png" alt="Image losted" title="inline_line_box"></p>
<p>我们可以看到如果一个行盒无法容纳下某个内联盒，这个内联盒就会分割开来放在多个行盒中。注意一下在换行（分割）的地方，是没有竖直线的，表示内联盒未结束，而且 <code>margin,padding</code> 值在这里是不会体现出来的， <code>margin-left,margin-right,padding-left,padding-right</code> 值只存在于内联盒的开始和结束的地方。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/02/重拾CSS规范之从盒类型谈起/" data-id="civ6s4vt5000fh9xo0gzi84nx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css规范/">css规范</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/格式化模型/">格式化模型</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/盒类型/">盒类型</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/09/06/重拾CSS规范之BFC&IFC/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          重拾CSS规范之BFC &amp; IFC
        
      </div>
    </a>
  
  
    <a href="/2016/07/30/重拾CSS规范之margin/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">重拾CSS规范之margin</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CSS/">CSS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/BFC/">BFC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IE6/">IE6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IFC/">IFC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bug/">bug</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css3/">css3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css规范/">css规范</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/display/">display</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/float/">float</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/line-height/">line-height</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/margin/">margin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/overflow/">overflow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/padding/">padding</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/position/">position</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/resize/">resize</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/this/">this</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vertical-align/">vertical-align</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/z-index/">z-index</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/变量对象/">变量对象</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图片底边3px/">图片底边3px</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/层叠上下文/">层叠上下文</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/执行上下文/">执行上下文</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/提升/">提升</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文字溢出/">文字溢出</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/格式化模型/">格式化模型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/盒类型/">盒类型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/自适应布局/">自适应布局</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/行盒/">行盒</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/BFC/" style="font-size: 12.5px;">BFC</a> <a href="/tags/IE6/" style="font-size: 10px;">IE6</a> <a href="/tags/IFC/" style="font-size: 12.5px;">IFC</a> <a href="/tags/bug/" style="font-size: 10px;">bug</a> <a href="/tags/css/" style="font-size: 20px;">css</a> <a href="/tags/css3/" style="font-size: 10px;">css3</a> <a href="/tags/css规范/" style="font-size: 20px;">css规范</a> <a href="/tags/display/" style="font-size: 10px;">display</a> <a href="/tags/float/" style="font-size: 10px;">float</a> <a href="/tags/javascript/" style="font-size: 17.5px;">javascript</a> <a href="/tags/line-height/" style="font-size: 12.5px;">line-height</a> <a href="/tags/margin/" style="font-size: 12.5px;">margin</a> <a href="/tags/overflow/" style="font-size: 10px;">overflow</a> <a href="/tags/padding/" style="font-size: 10px;">padding</a> <a href="/tags/position/" style="font-size: 12.5px;">position</a> <a href="/tags/resize/" style="font-size: 10px;">resize</a> <a href="/tags/this/" style="font-size: 10px;">this</a> <a href="/tags/vertical-align/" style="font-size: 10px;">vertical-align</a> <a href="/tags/z-index/" style="font-size: 10px;">z-index</a> <a href="/tags/变量对象/" style="font-size: 10px;">变量对象</a> <a href="/tags/图片底边3px/" style="font-size: 10px;">图片底边3px</a> <a href="/tags/层叠上下文/" style="font-size: 10px;">层叠上下文</a> <a href="/tags/执行上下文/" style="font-size: 12.5px;">执行上下文</a> <a href="/tags/提升/" style="font-size: 10px;">提升</a> <a href="/tags/文字溢出/" style="font-size: 10px;">文字溢出</a> <a href="/tags/格式化模型/" style="font-size: 10px;">格式化模型</a> <a href="/tags/盒类型/" style="font-size: 10px;">盒类型</a> <a href="/tags/自适应布局/" style="font-size: 10px;">自适应布局</a> <a href="/tags/行盒/" style="font-size: 15px;">行盒</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/10/11/重拾CSS规范之vertical-align/">重拾CSS规范之vertical-align</a>
          </li>
        
          <li>
            <a href="/2016/09/16/重拾CSS规范之line-height/">重拾CSS规范之line-height</a>
          </li>
        
          <li>
            <a href="/2016/09/15/重拾CSS规范之overflow/">重拾CSS规范之overflow</a>
          </li>
        
          <li>
            <a href="/2016/09/13/重拾CSS规范之z-index/">重拾CSS规范之z-index</a>
          </li>
        
          <li>
            <a href="/2016/09/06/重拾CSS规范之BFC&IFC/">重拾CSS规范之BFC &amp; IFC</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 酸梅先生<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>